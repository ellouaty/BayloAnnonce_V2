<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
       
		 <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

		<title>Baylo</title>

		 
                 <h:outputStylesheet library = "css" name = "bootstrap.min.css" />  
                     <h:outputStylesheet library = "css" name = "style.css" /> 
                     
                          <f:metadata>
     
                              <f:viewAction action="#{utilisateurBean.remplireListUser()}"  immediate=""/>
                   
                       
    
</f:metadata> 
    </h:head>
    <h:body style="background-color: lightgoldenrodyellow">
        
          <p:panel id="panCont" style="margin-left: 5px;border: none;background-color: inherit">   
           
            <h:form prependId="conForm">
        
                <c:if test="#{not empty emp}"> 
                  <h:selectOneMenu   value="#{select}" id="menu"  style="color: #000066;font-size: 14px; height:22px;margin-top: 4px; line-height: 23px;height:31px ;margin-left: 0px;margin-top: 0px;width:15%;background-color: inherit">
                               <f:selectItem  itemValue="0" itemLabel="⇒Menu Principale" />  
                                <f:selectItems value="#{droits}" /> 
                                 <f:ajax listener="#{employeBean.redirection()}"/>
        </h:selectOneMenu> 
                   <p:outputLabel style="float: right;color: #000066;text-transform: capitalize" value="#{emp.nomEmploye} #{emp.prenomEmploye}" > </p:outputLabel> 
                   <br/> <p:commandLink style="float: right;display: block;text-decoration:underline;" value="Sing out" actionListener="#{employeBean.singOut('Gestion_Utilisateurs')}" />
                </c:if></h:form>
          </p:panel>
        <h:form prependId="false"> 
            
                <p:panel id="pnDet" class="col-md-12 col-lg-2 col-sm-1" style="background-color: inherit; height:80%;border:1px solid #2e6da4 ;margin-bottom:3px;margin-bottom:20px;width:100%; overflow-y: auto;overflow-x: hidden;">
                        
                    <h:inputText size="20" id="pv" value="#{utilisateurBean.paramSearch}" ></h:inputText> 
                    <p:commandButton value="Find" actionListener ="#{utilisateurBean.chercher()}" update="msgParm msgOption" style="color:white;background-color: #204d74;margin-left: 10px" >
                          </p:commandButton>  <p:message  id="msgParm" for="pv"/>
                          <br/>   
                          <div class="col-md-12">
                          <h:selectOneRadio id="option" class="col-md-2" value="#{utilisateurBean.optionSearch}" >
                              
                              <f:selectItem class="col-md-1" itemLabel="Nom" itemValue="nom"  ></f:selectItem> 
                                <f:selectItem class="col-md-1" itemLabel="Email" itemValue="email"></f:selectItem>
                                 <f:selectItem class="col-md-1" itemLabel="Tel" itemValue="tel"></f:selectItem>
                          </h:selectOneRadio>
                             <p:message  id="msgOption" for="option"/>
                              <br/></div>

   
               <div class="col-md-2 col-lg-2 col-sm-1" style="background-color: #2e6da4 ;color: white;font-size: "><p:outputLabel    value="Nom :"   /> </div>  
                       <div class="col-md-2 col-lg-2 col-sm-1" style="background-color: #2e6da4 ;color: white"> <p:outputLabel value="Email:"   /> </div>  
                       <div class="col-md-2 col-lg-2 col-sm-1" style="background-color: #2e6da4 ;color: white"> <p:outputLabel value="Password :"   /> </div>   
                          <div class="col-md-2 col-lg-2 col-sm-1" style="background-color: #2e6da4 ;color: white"> <p:outputLabel   value="Telephone :"   /> </div>  
                          <div class="col-md-2 col-lg-2 col-sm-1" style="background-color: #2e6da4 ;color: white"> <p:outputLabel value="Ville :"   /> </div>   
                         <div class="col-md-2 col-lg-2 col-sm-1" style="background-color: #2e6da4 ;color: white"> <p:outputLabel value="Etat :"   /> </div>   
                       
                        
                            <c:forEach items="#{utilisateurBean.list_user}" var="utilisateur">
                                 <h:link outcome="EditerUtilisateur" >
                                 <div class="col-md-2 col-lg-2 col-sm-1" style="border:1px solid #2e6da4 ;"  ><p:outputLabel  style="font-weight: normal;text-transform: capitalize"  value="#{utilisateur.nom}"   /> </div>  
                                 <div class="col-md-2 col-lg-2 col-sm-1" style="border:1px solid #2e6da4 ;"> <p:outputLabel style="font-weight: normal;text-transform: capitalize"  value="#{utilisateur.emailUtilConnecte}"    /> </div>  
                                 <div class="col-md-2 col-lg-2 col-sm-1" style="border:1px solid #2e6da4 ;"> <p:outputLabel style="font-weight: normal;text-transform: capitalize"  value="***********"    /> </div>  
                                 <div class="col-md-2 col-lg-2 col-sm-1" style="border:1px solid #2e6da4 ;"> <p:outputLabel style="font-weight: normal;text-transform: capitalize"   value="#{utilisateur.telUtilConnecte}"   /> </div>  
                                 <div class="col-md-2 col-lg-2 col-sm-1" style="border:1px solid #2e6da4 ;" > <p:outputLabel style="font-weight: normal"  value="#{utilisateur.villeUtilConnecte}"   /> </div>   
                                 <div class="col-md-2 col-lg-2 col-sm-1" style="border:1px solid #2e6da4 ;" > <p:outputLabel style="font-weight: normal"  value="#{utilisateur.etatcompte}"   /> </div>   
                                 <f:param name="UserToEdit" value="#{utilisateur.idUtilisateurConnecte}"></f:param>
                                 </h:link>
                       
                        
                    </c:forEach>
           
                 </p:panel>
             
            <div class="col-md-12" style="margin-left: 25%"> 
                <p:commandButton onclick="event.preventDefault();PF('dialogue').show();"  value="Bloquer Numéro de Tel" style="color:black;background-color: darkmagenta"/>
                <p:commandButton onclick="event.preventDefault();PF('dialogueEmail').show();"  value="Bloquer Adresse Email" style="color:#000000;background-color: #cc0000;margin-left: 3%"/>
                <p:commandButton onclick="event.preventDefault();PF('dialogueIP').show();"  value="Bloquer Adresse IP" style="color: black;background-color: #3c763d;margin-left: 3%"/>
            </div>
            </h:form>
                
                 
                                  
     
        
                                       
   <p:dialog  id="dialog" widgetVar="dialogue" hideEffect="explode" modal="true"    style="background-color:gainsboro ;text-decoration: brown" >
         
            
           <h:form prependId="conForm">
	
              	<p:panel  >
               <div  ><h5 style="color: rosybrown;text-decoration: underline slategray solid;">Teléphone a bloquer :</h5></div>
                  <h:panelGrid   columns="3"  > 
                          <p:inputMask id="idTel"   mask="9999999999"  value="#{utilisateurBean.telTobloque}"    style="margin-bottom: 3px;margin-left:30%;"/>
                                
                         
                         
                         <p:spacer/> 
                       <p:spacer/>                       <p:message for="idTel" id="msgTel"  style="color: red; font-size: 14px"  ></p:message> <p:spacer/>  <p:spacer/> 
                      <p:commandButton   class="btn btn-primary" action="#{utilisateurBean.debloquerTel()}"  value="Debloquer" update="msgTel" style="float: left;color: black;background-color:#5cb85c;margin-left: 20px">
                                  
                            </p:commandButton>
                    <p:commandButton   class="btn btn-primary" action="#{utilisateurBean.bloquerTel()}"  value="Bloquer" update="msgTel" style="float: right;color:black;background-color: #cc0000;margin-right: 20px">
                                  
                            </p:commandButton></h:panelGrid>
                 
                
		</p:panel>
	 </h:form>
           
           
             
               </p:dialog>
           
        
                                        
   <p:dialog  id="dialogEM" widgetVar="dialogueEmail" hideEffect="explode" modal="true"    style="background-color:gainsboro ;text-decoration: brown" >
         
            
           <h:form prependId="conForm">
	
              	<p:panel  >
               <div  ><h5 style="color: rosybrown;text-decoration: underline slategray solid;">Email a bloquer :</h5></div>
            
                    <h:panelGrid   columns="3"  >
                         
                        
                        <p:inputText  id="idemail" size="15" value="#{utilisateurBean.emailTobloque}"    style="margin-bottom: 3px;margin-left: 30%;"></p:inputText>
                        <p:spacer/> 
                       <p:spacer/>    <p:message for="idemail" id="msgem"  style="color: red; font-size: 14px"  ></p:message> <p:spacer/>  <p:spacer/> 
                        <p:commandButton   class="btn btn-primary" action="#{utilisateurBean.debloquerEmail()}"  value="Debloquer" update="msgem" style="float: left;color: black;background-color:#5cb85c;margin-left: 20px"/>
                        
                            <p:commandButton   class="btn btn-primary" action="#{utilisateurBean.bloquerEmail()}" value="Bloquer" update="msgem" style="float: right;color: wheat;background-color: #cc0000;margin-right: 20px"/>
                         
                    </h:panelGrid>
                 
                 
                
		</p:panel>
	 </h:form>
           
           
             
               </p:dialog>
           
        
        
                                                
   <p:dialog  id="dialogiIP" widgetVar="dialogueIP" hideEffect="explode" modal="true"    style="background-color:gainsboro ;text-decoration: brown" >
         
            
           <h:form prependId="conForm">
	
              	<p:panel  >
               <div  ><h5 style="color: rosybrown;text-decoration: underline slategray solid;">IP a bloquer :</h5></div>
            
                       <h:panelGrid   columns="3"  >
                        <p:inputText  id="idip" size="15" value="#{utilisateurBean.ipTobloque}"    style="margin-bottom: 3px;margin-left: 30%;"></p:inputText>
                         <p:spacer/> 
                       <p:spacer/>   <p:message for="idip" id="msgip"  style="color: red; font-size: 14px"  ></p:message>  <p:spacer/> 
                       <p:spacer/>  
                       
                        <p:commandButton   class="btn btn-primary" action="#{utilisateurBean.debloquerIp()}"  value="Debloquer" update="msgip" style="float: left;color: black;background-color:#5cb85c;margin-left: 20px"/>
                        
                        <p:commandButton   class="btn btn-primary" action="#{utilisateurBean.bloquerIp()}" value="Bloquer" update="msgip" style="float: right;color: wheat;background-color:#3c763d;margin-right: 20px">
                                  
                            </p:commandButton></h:panelGrid>
                
                
		</p:panel>
	 </h:form>
           
           
             
               </p:dialog>
           
            
    </h:body>
</html>